# 커피 주문 앱

## 1. 프로젝트 개요

### 1.1 프로젝트명
커피 주문 앱

### 1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 웹 앱

### 1.3 개발 범위
- 주문하기 화면(메뉴 선택 및 장바구니 기능)
- 관리자 화면(재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

## 2. 기술 스택
- 프런트엔드 : HTML, CSS, 리액트, 자바스크립트
- 백엔드 : Node.js, Express
- 데이터베이스 : PostgreSQL

## 3. 기본 사항
- 프런트엔드와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음

## 4. 주문하기 화면 PRD

### 4.1 사용자 및 목표
- **일반 고객**: 카페 내 키오스크/태블릿이나 모바일 기기에서 빠르게 메뉴를 파악하고 주문을 완료하려는 사용자가 주요 타깃.
- **목표**: 최소한의 단계로 원하는 메뉴와 옵션을 선택해 장바구니에 담고, 총 금액을 확인한 뒤 주문을 제출.

### 4.2 핵심 사용자 플로우
1. 앱 진입 시 기본 화면은 `주문하기` 탭.
2. 상단 브랜드 영역(로고/텍스트)과 탭 버튼(`주문하기`, `관리자`) 확인.
3. 사용자는 카드형 메뉴 리스트에서 원하는 음료 선택.
4. 옵션(샷 추가, 시럽 추가 등)을 체크박스로 선택 후 `담기` 버튼을 클릭.
5. 선택된 아이템은 장바구니 박스에 추가되며, 수량 및 금액 합계가 자동 계산.
6. 장바구니 내용 검토 후 `주문하기` CTA 클릭으로 주문 제출.

### 4.3 UI 구성 요소
- **헤더 영역**
  - 좌측: 브랜드명 `COZY`.
  - 우측: 탭 버튼 2개. 현재 페이지(`주문하기`)는 강조 스타일, `관리자` 버튼은 기본 스타일.
- **메뉴 리스트**
  - 가로 3열 카드 레이아웃(반응형 시 1~2열로 줄어들 수 있도록 CSS Grid/Flex 고려).
  - 각 카드 구성: 썸네일 이미지 플레이스홀더, 메뉴명(ICE/HOT 레이블 포함), 가격, 설명 요약, 옵션 체크박스, `담기` 버튼.
  - 옵션은 최소 2가지 이상 지원, 선택 시 추가 금액을 괄호로 표현. 예) `샷 추가 (+500원)`.
  - `담기` 버튼 클릭 시 로딩 상태를 보여줄 필요는 없으나, 빠른 연타 방지를 위해 300ms 디버운스 처리 권장.
- **장바구니 영역**
  - 화면 하단 고정 박스. PC 기준 가로 폭 80% 내외, 모서리 라운딩 및 그림자 처리로 카드와 구분.
  - 리스트: 담긴 메뉴명, 선택 옵션 요약, 수량, 개별 금액.
  - 총 금액은 `총 금액 12,500원`과 같이 텍스트 강조(`font-weight: 700`).
  - `주문하기` 버튼은 장바구니가 비어 있을 때 비활성화 상태(회색톤 + 커서 not-allowed).

### 4.4 상태 및 예외 처리
- **빈 상태**: 장바구니에 항목이 없으면 "장바구니가 비어 있습니다" 문구와 함께 CTA 비활성화.
- **옵션 선택**: 필수 옵션은 없으며, 체크 해제 시 추가 금액이 0원으로 반영.
- **수량 증가**: 동일 메뉴를 반복해서 담으면 수량과 금액이 누적. 장바구니 행 단위로 수량 표시.
- **오류 처리**: 재고 부족/네트워크 오류 발생 시 토스트 또는 인라인 에러로 안내하고 장바구니 상태는 유지.

### 4.5 비주얼/인터랙션 가이드
- 전체 톤은 화이트 + 다크 네이비 포인트. border-color는 중간 톤(#003049 ±) 사용.
- 버튼 상태: 기본(화이트 배경, 네이비 테두리), hover(네이비 배경 + 화이트 텍스트), disabled(밝은 회색).
- 폰트: 기본 `Pretendard` 또는 시스템 폰트, 제목 20px, 본문 14~16px.
- 반응형: 768px 이하에서는 메뉴 카드가 단일 열 스크롤 형태로 전환, 장바구니는 전체 폭 차지.

### 4.6 추적 지표
- 메뉴 카드 클릭 대비 장바구니 추가율.
- 장바구니에서 주문 전환율.
- 옵션 선택 비율(샷/시럽).

### 4.7 오픈 이슈
- 메뉴 옵션 종류가 더 늘어날지 여부(예: 우유 타입). 백엔드 스키마 확정 필요.
- 장바구니에 담긴 항목 수정/삭제 기능 제공 범위.

## 5. 관리자 화면 PRD

### 5.1 사용자 및 목표
- **매장 관리자/스태프**: 재고 상황과 실시간 주문 흐름을 한 화면에서 모니터링하는 사용자가 대상.
- **목표**: 재고 수량 조정, 신규 주문 접수/상태 업데이트, 주문 현황 파악을 최소한의 클릭으로 수행.

### 5.2 핵심 사용자 플로우
1. 상단 탭에서 `관리자` 선택 시 관리자 대시보드 진입.
2. 첫 섹션에서 전체 주문 KPI(총 주문/접수/제조 중/완료)를 확인.
3. 재고 현황 섹션에서 각 메뉴 카드의 `+`/`-` 버튼으로 수량을 조정하고, 조정 결과는 즉시 서버에 반영.
4. 주문 현황 섹션에서 시간순으로 정렬된 주문 리스트를 확인, 행 우측의 `주문 접수` 또는 다음 상태 버튼을 클릭하여 주문 상태를 변경.
5. 필요 시 다른 탭으로 이동하거나 새로고침 없이 실시간 업데이트 수신.

### 5.3 UI 구성 요소
- **헤더 영역**
  - 브랜드명과 탭 UI는 주문하기 화면과 동일. 현재 탭(`관리자`) 강조.
- **관리자 대시보드 카드**
  - KPI 텍스트 포맷: `총 주문 1 / 주문 접수 1 / 제조 중 0 / 제조 완료 0`.
  - 폰트는 본문 대비 강조, 배경은 연한 회색 박스.
- **재고 현황 카드 리스트**
  - 메뉴별 카드: 메뉴명, 현재 재고(숫자 + `개`), `+`, `-` 버튼.
  - 버튼 클릭 시 수량 증감(최소 0), 낙관적 UI 업데이트 + 실패 시 롤백 메시지.
  - 카드 간 여백 16px, 모바일에서는 1열 스택.
- **주문 현황 리스트**
  - 각 행: 주문 시각, 메뉴명+수량, 금액, 상태 액션 버튼.
  - 기본 상태는 `주문 접수` 버튼, 접수 후에는 `제조 시작`, `제조 완료` 등 단계별 버튼으로 교체할 수 있도록 확장성 확보.
  - 긴 주문 목록일 경우 세로 스크롤 가능(섹션 높이 400px 고정 + overflow-y).

### 5.4 상태 및 예외 처리
- **KPI 숫자**: 서버 응답 지연 시 로딩 스켈레톤 표시.
- **재고 조정**
  - `-` 버튼 클릭 시 재고가 0 이하로 내려가지 않도록 차단하고 토스트 메시지로 안내.
  - 동시 수정 충돌 시 최신 서버 값으로 리프레시 후 사용자에게 알림.
- **주문 상태 전환**
  - 이미 처리된 주문에 대해 중복 액션을 시도하면 비활성화 또는 에러 토스트 노출.
  - 실시간으로 신규 주문이 도착하면 리스트 상단에 삽입되고 강조 애니메이션(1초 highlight) 적용.

### 5.5 비주얼/인터랙션 가이드
- 전반적인 컬러 스킴은 주문하기 화면과 동일한 화이트/네이비 계열 유지.
- 버튼 스타일: 재고 조정 버튼은 작은 사각형, 상태 버튼은 pill 형태로 차별화.
- 중요 수치(KPI, 재고 수량)는 `font-weight: 600` 이상으로 표시.
- 반응형: 1024px 이하에서는 섹션들이 세로 스택, KPI → 재고 → 주문 순.
- 실시간 업데이트가 많은 영역(주문 현황)은 최소 60fps를 위해 애니메이션 단순화.

### 5.6 추적 지표
- 재고 조정 횟수 및 조정 후 5분 내 재조정 비율(실수 탐지).
- 주문 상태 전환에 걸린 평균 시간(접수→제조, 제조→완료).
- 관리자 화면 체류 시간과 새로고침 빈도.

### 5.7 오픈 이슈
- 재고 자동 동기화 주기(웹소켓 vs 폴링) 확정 필요.
- 주문 상태 단계 수(접수/제조/완료 외 추가 단계 여부).
- 다중 관리자 동시 접속 시 권한/충돌 처리 정책.